<?xml version='1.0' encoding='US-ASCII'?>
<!-- $Id$ -->
<!DOCTYPE design SYSTEM 'design.dtd' [
<!ENTITY package 'org.apache.xerces'>
]>
<design name='Xerces-J 2.0'>
 <date>$Date$</date>

 <!-- TYPES -->
 <types>
  <category name='Java Language'>
   <class id='java-exception' name='Exception'/>
   <class id='java-object' name='Object'/>
   <class id='java-string' name='String'/>
   <interface id='java-cloneable' name='Cloneable'/>
  </category>
  <category name='Java I/O' package='java.io'>
   <class id='java-io-exception' name='IOException'/>
   <class id='java-io-reader' name='Reader'/>
  </category>
  <category name='Java Utils' package='java.util'>
   <class id='java-empty-stack-exception' name='EmptyStackException'/>
   <class id='java-hashtable' name='Hashtable'/>
   <class id='java-locale' name='Locale'/>
   <class id='java-missing-resource-exception' name='MissingResourceException'/>
   <class id='java-stack' name='Stack'/>
   <class id='java-vector' name='Vector'/>
  </category>
  <category name='Document Object Model' package='org.w3c.dom'>
   <interface id='dom-document' name='Document'/>
  </category>
  <category name='Simple API for XML' package='org.xml.sax'>
   <class id='sax-exception' name='SAXException'/>
   <class id='sax-input-source' name='InputSource'/>
   <class id='sax-not-recognized-exception' name='SAXNotRecognizedException'/>
   <class id='sax-not-supported-exception' name='SAXNotSupportedException'/>
   <class id='sax-parse-exception' name='SAXParseException'/>
   <interface id='sax-attribute-list' name='AttributeList'/>
   <interface id='sax-attributes' name='Attributes'/>
   <interface id='sax-content-handler' name='ContentHandler'/>
   <interface id='sax-document-handler' name='DocumentHandler'/>
   <interface id='sax-dtd-handler' name='DTDHandler'/>
   <interface id='sax-entity-resolver' name='EntityResolver'/>
   <interface id='sax-error-handler' name='ErrorHandler'/>
   <interface id='sax-locator' name='Locator'>
    <method name='getPublicId'>
     <returns>
      <reference idref='java-string'/>
     </returns>
    </method>
    <method name='getSystemId'>
     <returns>
      <reference idref='java-string'/>
     </returns>
    </method>
    <method name='getLineNumber'>
     <returns>
      <primitive type='int'/>
     </returns>
    </method>
    <method name='getColumnNumber'>
     <returns>
      <primitive type='int'/>
     </returns>
    </method>
   </interface>
   <interface id='sax-parser' name='Parser'>
    <method name='parse'>
     <param name='systemId'>
      <reference idref='java-string'/>
     </param>
     <throws>
      <reference idref='java-io-exception'/>
     </throws>
     <throws>
      <reference idref='sax-exception'/>
     </throws>
    </method>
    <method name='parse'>
     <param name='inputSource'>
      <reference idref='sax-input-source'/>
     </param>
     <throws>
      <reference idref='java-io-exception'/>
     </throws>
     <throws>
      <reference idref='sax-exception'/>
     </throws>
    </method>
    <method name='setLocale'>
     <param name='locale'>
      <reference idref='java-locale'/>
     </param>
     <throws>
      <reference idref='sax-exception'/>
     </throws>
    </method>
    <method name='setEntityResolver'>
     <param name='entityResolver'>
      <reference idref='sax-entity-resolver'/>
     </param>
    </method>
    <method name='setDocumentHandler'>
     <param name='documentHandler'>
      <reference idref='sax-document-handler'/>
     </param>
    </method>
    <method name='setDTDHandler'>
     <param name='dtdHandler'>
      <reference idref='sax-dtd-handler'/>
     </param>
    </method>
    <method name='setErrorHandler'>
     <param name='errorHandler'>
      <reference idref='sax-error-handler'/>
     </param>
    </method>
   </interface>
   <interface id='sax-xmlreader' name='XMLReader'>
    <method name='parse'>
     <param name='systemId'>
      <reference idref='java-string'/>
     </param>
     <throws>
      <reference idref='java-io-exception'/>
     </throws>
     <throws>
      <reference idref='sax-exception'/>
     </throws>
    </method>
    <method name='parse'>
     <param name='inputSource'>
      <reference idref='sax-input-source'/>
     </param>
     <throws>
      <reference idref='java-io-exception'/>
     </throws>
     <throws>
      <reference idref='sax-exception'/>
     </throws>
    </method>
    <method name='setEntityResolver'>
     <param name='entityResolver'>
      <reference idref='sax-entity-resolver'/>
     </param>
    </method>
    <method name='getEntityResolver'>
     <returns>
      <reference idref='sax-entity-resolver'/>
     </returns>
    </method>
    <method name='setContentHandler'>
     <param name='contentHandler'>
      <reference idref='sax-content-handler'/>
     </param>
    </method>
    <method name='getContentHandler'>
     <returns>
      <reference idref='sax-content-handler'/>
     </returns>
    </method>
    <method name='setDTDHandler'>
     <param name='dtdHandler'>
      <reference idref='sax-dtd-handler'/>
     </param>
    </method>
    <method name='getDTDHandler'>
     <returns>
      <reference idref='sax-dtd-handler'/>
     </returns>
    </method>
    <method name='setErrorHandler'>
     <param name='errorHandler'>
      <reference idref='sax-error-handler'/>
     </param>
    </method>
    <method name='getErrorHandler'>
     <returns>
      <reference idref='sax-error-handler'/>
     </returns>
    </method>
    <method name='setFeature'>
     <param name='featureId'>
      <reference idref='java-string'/>
     </param>
     <param name='state'>
      <primitive type='boolean'/>
     </param>
     <throws>
      <reference idref='sax-not-recognized-exception'/>
     </throws>
     <throws>
      <reference idref='sax-not-supported-exception'/>
     </throws>
    </method>
    <method name='getFeature'>
     <param name='featureId'>
      <reference idref='java-string'/>
     </param>
     <returns>
      <primitive type='boolean'/>
     </returns>
     <throws>
      <reference idref='sax-not-recognized-exception'/>
     </throws>
     <throws>
      <reference idref='sax-not-supported-exception'/>
     </throws>
    </method>
    <method name='setProperty'>
     <param name='propertyId'>
      <reference idref='java-string'/>
     </param>
     <param name='value'>
      <reference idref='java-object'/>
     </param>
     <throws>
      <reference idref='sax-not-recognized-exception'/>
     </throws>
     <throws>
      <reference idref='sax-not-supported-exception'/>
     </throws>
    </method>
    <method name='getProperty'>
     <param name='propertyId'>
      <reference idref='java-string'/>
     </param>
     <returns>
      <reference idref='java-object'/>
     </returns>
     <throws>
      <reference idref='sax-not-recognized-exception'/>
     </throws>
     <throws>
      <reference idref='sax-not-supported-exception'/>
     </throws>
    </method>
   </interface>
  </category>
 </types>

 <!-- Category: BASE -->
 <category name='Base' package='&package;.framework'>

  <interface id='configurable' name='XMLComponent'>
   <method name='reset'>
    <param name='configurationManager'>
     <reference idref='configuration-manager'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='setFeature'>
    <param name='featureId'>
     <reference idref='java-string'/>
    </param>
    <param name='state'>
     <primitive type='boolean'/>
    </param>
    <throws>
     <reference idref='sax-not-recognized-exception'/>
    </throws>
    <throws>
     <reference idref='sax-not-supported-exception'/>
    </throws>
   </method>
   <method name='setProperty'>
    <param name='propertyId'>
     <reference idref='java-string'/>
    </param>
    <param name='value'>
     <reference idref='java-object'/>
    </param>
    <throws>
     <reference idref='sax-not-recognized-exception'/>
    </throws>
    <throws>
     <reference idref='sax-not-supported-exception'/>
    </throws>
   </method>
  </interface>

  <interface id='configuration-manager' name='XMLComponentManager'>
   <method name='getFeature'>
    <param name='featureId'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
    <throws>
     <reference idref='sax-not-recognized-exception'/>
    </throws>
    <throws>
     <reference idref='sax-not-supported-exception'/>
    </throws>
   </method>
   <method name='getProperty'>
    <param name='propertyId'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <reference idref='java-object'/>
    </returns>
    <throws>
     <reference idref='sax-not-recognized-exception'/>
    </throws>
    <throws>
     <reference idref='sax-not-supported-exception'/>
    </throws>
   </method>
  </interface>

  <class id='string' name='XMLString'>
   <field name='ch' visibility='public'>
    <array>
     <primitive type='char'/>
    </array>
   </field>
   <field name='offset' visibility='public'>
    <primitive type='int'/>
   </field>
   <field name='length' visibility='public'>
    <primitive type='int'/>
   </field>
   <constructor/>
   <constructor>
    <param name='ch'>
     <array>
      <primitive type='char'/>
     </array>
    </param>
    <param name='offset'>
     <primitive type='int'/>
    </param>
    <param name='length'>
     <primitive type='int'/>
    </param>
   </constructor>
   <method name='setValues'>
    <param name='ch'>
     <array>
      <primitive type='char'/>
     </array>
    </param>
    <param name='offset'>
     <primitive type='int'/>
    </param>
    <param name='length'>
     <primitive type='int'/>
    </param>
   </method>
   <method name='clear'/>
   <method name='equals'>
    <param name='ch'>
     <array>
      <primitive type='char'/>
     </array>
    </param>
    <param name='offset'>
     <primitive type='int'/>
    </param>
    <param name='length'>
     <primitive type='int'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
   <method name='equals'>
    <param name='s'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
   <method name='toString'>
    <returns>
     <reference idref='java-string'/>
    </returns>
   </method>
  </class>
  
  <class id='string-buffer' name='XMLStringBuffer'>
   <extends>
    <reference idref='string'/>
   </extends>
   <constant name='SIZE'>
    <primitive type='int'/>
   </constant>
   <constructor/>
   <constructor>
    <param name='size'>
     <primitive type='int'/>
    </param>
   </constructor>
   <method name='append'>
    <param name='c'>
     <primitive type='char'/>
    </param>
   </method>
   <method name='append'>
    <param name='s'>
     <reference idref='java-string'/>
    </param>
   </method>
   <method name='append'>
    <param name='ch'>
     <array>
      <primitive type='char'/>
     </array>
    </param>
    <param name='offset'>
     <primitive type='int'/>
    </param>
    <param name='length'>
     <primitive type='int'/>
    </param>
   </method>
   <method name='append'>
    <param name='s'>
     <reference idref='string'/>
    </param>
   </method>
  </class>

 </category>

 <!-- Category: ERROR HANDLING -->
 <category name='Error Handling' package='&package;.framework'>

  <class id='error-reporter' name='XMLErrorReporter'>
   <implements>
    <reference idref='configurable'/>
   </implements>
   <constant name='SEVERITY_WARNING'>
    <primitive type='short'/>
   </constant>
   <constant name='SEVERITY_ERROR'>
    <primitive type='short'/>
   </constant>
   <constant name='SEVERITY_FATAL_ERROR'>
    <primitive type='short'/>
   </constant>
   <field name='fLocale'>
    <reference idref='java-locale'/>
   </field>
   <field name='fMessageFormatters'>
    <collection>
     <collector>
      <reference idref='java-hashtable'/>
     </collector>
     <items>
      <reference idref='message-formatter'/>
     </items>
    </collection>
   </field>
   <field name='fErrorHandler'>
    <reference idref='sax-error-handler'/>
   </field>
   <field name='fContinueAfterFatalError'>
    <note>This field is initialized on reset.</note>
    <primitive type='boolean'/>
   </field>
   <constructor/>
   <method name='setLocale'>
    <param name='locale'>
     <reference idref='java-locale'/>
    </param>
   </method>
   <method name='putMessageFormatter'>
    <param name='domain'>
     <reference idref='java-string'/>
    </param>
    <param name='messageFormatter'>
     <reference idref='message-formatter'/>
    </param>
   </method>
   <method name='getMessageFormatter'>
    <param name='domain'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <reference idref='message-formatter'/>
    </returns>
   </method>
   <method name='removeMessageFormatter'>
    <param name='domain'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <reference idref='message-formatter'/>
    </returns>
   </method>
   <method name='reportError'>
    <param name='domain'>
     <reference idref='java-string'/>
    </param>
    <param name='key'>
     <reference idref='java-string'/>
    </param>
    <param name='arguments'>
     <array>
      <reference idref='java-object'/>
     </array>
    </param>
    <param name='severity'>
     <primitive type='short'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
  </class>

 </category>

 <!-- Category: SCANNING -->
 <category name='Scanning' package='&package;.scanners'>

  <class id='document-scanner' name='XMLDocumentScanner'>
   <implements>
    <reference idref='configurable'/>
   </implements>
   <implements>
    <reference idref='document-source'/>
   </implements>
   <field name='fSymbolTable'>
    <note>This field is initialized on reset.</note>
    <reference idref='symbol-table'/>
   </field>
   <field name='fErrorReporter'>
    <note>This field is initialized on reset.</note>
    <reference idref='error-reporter'/>
   </field>
   <field name='fEntityManager'>
    <note>This field is initialized on reset.</note>
    <reference idref='entity-manager'/>
   </field>
   <field name='fDTDScanner'>
    <note>This field is initialized on reset.</note>
    <reference idref='dtd-scanner'/>
   </field>
   <field name='fNamespaces'>
    <note>This field is initialized on reset.</note>
    <primitive type='boolean'/>
   </field>
   <field name='fDocumentHandler'>
    <reference idref='document-handler'/>
   </field>
   <constructor/>
   <method name='scanDocument'>
    <param name='complete'>
     <primitive type='boolean'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <!-- REVISIT
   <method name='scanDocumentFragment'>
    <param name='complete'>
     <primitive type='boolean'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   -->
  </class>

  <interface id='document-source' name='XMLDocumentSource'>
   <method name='setDocumentHandler'>
    <param name='documentHandler'>
     <reference idref='document-handler'/>
    </param>
   </method>
  </interface>

  <interface id='document-handler' name='XMLDocumentHandler'>
   <extends>
    <reference idref='entity-handler'/>
   </extends>
   <method name='startDocument'>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='xmlDecl'>
    <param name='version'>
     <reference idref='java-string'/>
    </param>
    <param name='encoding'>
     <reference idref='java-string'/>
    </param>
    <param name='actualEncoding'>
     <reference idref='java-string'/>
    </param>
    <param name='standalone'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='doctypeDecl'>
    <param name='rootElement'>
     <reference idref='java-string'/>    
    </param>
    <param name='publicId'>
     <reference idref='java-string'/>
    </param>
    <param name='systemId'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='comment'>
    <param name='text'>
     <reference idref='string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='processingInstruction'>
    <param name='target'>
     <reference idref='java-string'/>
    </param>
    <param name='data'>
     <reference idref='string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='startPrefixMapping'>
    <param name='prefix'>
     <reference idref='java-string'/>
    </param>
    <param name='uri'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='startElement'>
    <param name='element'>
     <reference idref='qname'/>
    </param>
    <param name='attributes'>
     <reference idref='attributes'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='characters'>
    <param name='text'>
     <reference idref='string'/>
    </param>
    <param name='whitespace'>
     <primitive type='boolean'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='ignorableWhitespace'>
    <param name='text'>
     <reference idref='string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='endElement'>
    <param name='element'>
     <reference idref='qname'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='endPrefixMapping'>
    <param name='prefix'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='textDecl'>
    <param name='version'>
     <reference idref='java-string'/>
    </param>
    <param name='encoding'>
     <reference idref='java-string'/>
    </param>
    <param name='actualEncoding'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='startCDATA'>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='endCDATA'>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>   
   <method name='endDocument'>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
  </interface>

  <class id='attributes' name='XMLAttributes'>
   <implements>
    <reference idref='sax-attribute-list'/>
   </implements>
   <implements>
    <reference idref='sax-attributes'/>
   </implements>
   <constructor/>
   <method name='setAttribute'>
    <param name='name'>
     <reference idref='qname'/>
    </param>
    <param name='type'>
     <reference idref='java-string'/>
    </param>
    <param name='value'>
     <reference idref='string'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='addAttributeEntity'>
    <param name='index'>
     <primitive type='int'/>
    </param>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='offset'>
     <primitive type='int'/>
    </param>
    <param name='length'>
     <primitive type='int'/>
    </param>
   </method>
   <method name='removeAttribute'>
    <param name='name'>
     <reference idref='qname'/>
    </param>
   </method>
   <method name='clear'/>
   <method name='getLength'>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='setName'>
    <param name='index'>
     <primitive type='int'/>
    </param>
    <param name='name'>
     <reference idref='qname'/>
    </param>
   </method>
   <method name='getName'>
    <param name='index'>
     <primitive type='int'/>
    </param>
    <param name='name'>
     <reference idref='qname'/>
    </param>
   </method>
   <method name='setType'>
    <param name='index'>
     <primitive type='int'/>
    </param>
    <param name='type'>
     <reference idref='java-string'/>
    </param>
   </method>
   <method name='getType'>
    <param name='index'>
     <primitive type='int'/>
    </param>
    <returns>
     <reference idref='java-string'/>
    </returns>
   </method>
   <method name='setValue'>
    <param name='index'>
     <primitive type='int'/>
    </param>
    <param name='value'>
     <reference idref='java-string'/>
    </param>
   </method>
   <method name='setValue'>
    <param name='index'>
     <primitive type='int'/>
    </param>
    <param name='value'>
     <reference idref='string'/>
    </param>
   </method>
   <method name='getValue'>
    <param name='index'>
     <primitive type='int'/>
    </param>
    <param name='value'>
     <reference idref='string'/>
    </param>
   </method>
   <method name='getEntityCount'>
    <param name='attrIndex'>
     <primitive type='int'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getEntityName'>
    <param name='attrIndex'>
     <primitive type='int'/>
    </param>
    <param name='entityIndex'>
     <primitive type='int'/>
    </param>
    <returns>
     <reference idref='java-string'/>
    </returns>
   </method>
   <method name='getEntityOffset'>
    <param name='attrIndex'>
     <primitive type='int'/>
    </param>
    <param name='entityIndex'>
     <primitive type='int'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getEntityLength'>
    <param name='attrIndex'>
     <primitive type='int'/>
    </param>
    <param name='entityIndex'>
     <primitive type='int'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
  </class>

  <class id='dtd-scanner' name='XMLDTDScanner'>
   <implements>
    <reference idref='configurable'/>
   </implements>
   <implements>
    <reference idref='dtd-source'/>
   </implements>
   <implements>
    <reference idref='dtd-content-model-source'/>
   </implements>
   <field name='fSymbolTable'>
    <note>This field is initialized on reset.</note>
    <reference idref='symbol-table'/>
   </field>
   <field name='fErrorReporter'>
    <note>This field is initialized on reset.</note>
    <reference idref='error-reporter'/>
   </field>
   <field name='fEntityManager'>
    <note>This field is initialized on reset.</note>
    <reference idref='entity-manager'/>
   </field>
   <field name='fGrammarPool'>
    <note>This field is initialized on reset.</note>
    <reference idref='grammar-pool'/>
   </field>
   <field name='fDTDHandler'>
    <reference idref='dtd-handler'/>
   </field>
   <field name='fDTDContentModelHandler'>
    <reference idref='dtd-content-model-handler'/>
   </field>
   <constructor/>
   <method name='scanDTD'>
    <param name='complete'>
     <primitive type='boolean'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='scanDTDFragment'>
    <param name='complete'>
     <primitive type='boolean'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='scanDTDInternalSubset'>
    <param name='complete'>
     <primitive type='boolean'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
  </class>

  <interface id='dtd-source' name='XMLDTDSource'>
   <method name='setDTDHandler'>
    <param name='dtdHandler'>
     <reference idref='dtd-handler'/>
    </param>
   </method>
  </interface>

  <interface id='dtd-handler' name='XMLDTDHandler'>
   <extends>
    <reference idref='entity-handler'/>
   </extends>
   <constant name='CONDITIONAL_INCLUDE'>
    <primitive type='short'/>
   </constant>
   <constant name='CONDITIONAL_IGNORE'>
    <primitive type='short'/>
   </constant>
   <method name='startDTD'>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='comment'>
    <param name='text'>
     <reference idref='string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='processingInstruction'>
    <param name='target'>
     <reference idref='java-string'/>
    </param>
    <param name='data'>
     <reference idref='string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='startExternalSubset'>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='endExternalSubset'>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='elementDecl'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='contentModel'>
     <reference idref='string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='startAttlist'>
    <param name='elementName'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='attributeDecl'>
    <param name='elementName'>
     <reference idref='java-string'/>
    </param>
    <param name='attributeName'>
     <reference idref='java-string'/>
    </param>
    <param name='type'>
     <reference idref='java-string'/>
    </param>
    <param name='enumeration'>
     <array>
      <reference idref='java-string'/>
     </array>
    </param>
    <param name='defaultType'>
     <reference idref='java-string'/>
    </param>
    <param name='defaultValue'>
     <reference idref='string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='endAttlist'>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='internalEntityDecl'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='text'>
     <reference idref='string'/>
    </param>
    <param name='isPE'>
     <primitive type='boolean'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='externalEntityDecl'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='publicId'>
     <reference idref='java-string'/>
    </param>
    <param name='systemId'>
     <reference idref='java-string'/>
    </param>
    <param name='isPE'>
     <primitive type='boolean'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='unparsedEntityDecl'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='publicId'>
     <reference idref='java-string'/>
    </param>
    <param name='systemId'>
     <reference idref='java-string'/>
    </param>
    <param name='notation'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='notationDecl'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='publicId'>
     <reference idref='java-string'/>
    </param>
    <param name='systemId'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <!-- REVISIT: How do we handle these?
   <method name='startParameterEntity'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='endParameterEntity'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   -->
   <method name='startConditional'>
    <param name='type'>
     <primitive type='short'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='endConditional'>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='endDTD'>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
  </interface>

  <interface id='dtd-content-model-source' name='XMLDTDContentModelSource'>
   <method name='setDTDContentModelHandler'>
    <param name='dtdContentModelHandler'>
     <reference idref='dtd-content-model-handler'/>
    </param>
   </method>
  </interface>

  <interface id='dtd-content-model-handler' name='XMLDTDContentModelHandler'>
   <constant name='TYPE_EMPTY'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_ANY'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_MIXED'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_CHILDREN'>
    <primitive type='short'/>
   </constant>
   <constant name='SEPARATOR_CHOICE'>
    <primitive type='short'/>
   </constant>
   <constant name='SEPARATOR_SEQUENCE'>
    <primitive type='short'/>
   </constant>
   <constant name='OCCURS_ZERO_OR_ONE'>
    <primitive type='short'/>
   </constant>
   <constant name='OCCURS_ZERO_OR_MORE'>
    <primitive type='short'/>
   </constant>
   <constant name='OCCURS_ONE_OR_MORE'>
    <primitive type='short'/>
   </constant>
   <method name='startContentModel'>
    <param name='elementName'>
     <reference idref='java-string'/>
    </param>
    <param name='type'>
     <primitive type='short'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='mixedElement'>
    <param name='elementName'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='childrenStartGroup'>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='childrenElement'>
    <param name='elementName'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='childrenSeparator'>
    <param name='separator'>
     <primitive type='short'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='childrenOccurrence'>
    <param name='occurrence'>
     <primitive type='short'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='childrenEndGroup'>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='endContentModel'>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
  </interface>

 </category>

 <!-- Category: READING -->
 <category name='Reading' package='&package;.readers'>

  <class id='entity-manager' name='XMLEntityManager'>
   <implements>
    <reference idref='configurable'/>
   </implements>
   <field name='fEntityResolver'>
    <reference idref='sax-entity-resolver'/>
   </field>
   <field name='fEntityReader'>
    <reference idref='entity-reader'/>
   </field>
   <constructor/>
   <method name='addGeneralEntity'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='publicId'>
     <reference idref='java-string'/>
    </param>
    <param name='systemId'>
     <reference idref='java-string'/>
    </param>
    <param name='baseSystemId'>
     <reference idref='java-string'/>
    </param>
   </method>
   <method name='addGeneralEntity'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='text'>
     <reference idref='java-string'/>
    </param>
   </method>
   <method name='addParameterEntity'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='publicId'>
     <reference idref='java-string'/>
    </param>
    <param name='systemId'>
     <reference idref='java-string'/>
    </param>
    <param name='baseSystemId'>
     <reference idref='java-string'/>
    </param>
   </method>
   <method name='addParameterEntity'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='text'>
     <reference idref='java-string'/>
    </param>
   </method>
   <method name='resolveEntity'>
    <param name='publicId'>
     <reference idref='java-string'/>
    </param>
    <param name='systemId'>
     <reference idref='java-string'/>
    </param>
    <param name='baseSystemId'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <reference idref='sax-input-source'/>
    </returns>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='startEntity'>
    <param name='entityName'>
     <reference idref='java-string'/>
    </param>
    <param name='parameter'>
     <primitive type='boolean'/>
    </param>
   </method>
   <method name='startEntity'>
    <param name='inputSource'>
     <reference idref='sax-input-source'/>
    </param>
   </method>
   <method name='getEntityScanner'>
    <returns>
     <reference idref='entity-reader'/>
    </returns>
   </method>
  </class>

  <class id='entity-reader' name='XMLEntityScanner'>
   <implements>
    <reference idref='sax-locator'/>
   </implements>
   <field name='fEntityHandler'>
    <reference idref='entity-handler'/>
   </field>
   <field name='fInputSource'>
    <reference idref='sax-input-source'/>
   </field>
   <field name='fLineNumber'>
    <primitive type='int'/>
   </field>
   <field name='fColumnNumber'>
    <primitive type='int'/>
   </field>
   <field name='fBytePosition'>
    <primitive type='long'/>
   </field>
   <field name='fCharPosition'>
    <primitive type='long'/>
   </field>
   <constructor/>
   <method name='setEntityHandler'>
    <param name='entityHandler'>
     <reference idref='entity-handler'/>
    </param>
   </method>
   <method name='getBytePosition'>
    <returns>
     <primitive type='long'/>
    </returns>
   </method>
   <method name='getCharPosition'>
    <returns>
     <primitive type='long'/>
    </returns>
   </method>
   <method name='peekChar'>
    <returns>
     <primitive type='char'/>
    </returns>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
   </method>
   <method name='scanChar'>
    <returns>
     <primitive type='char'/>
    </returns>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
   </method>
   <method name='scanNmtoken'>
    <returns>
     <reference idref='java-string'/>
    </returns>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
   </method>
   <method name='scanName'>
    <returns>
     <reference idref='java-string'/>
    </returns>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
   </method>
   <method name='scanQName'>
    <param name='qname'>
     <reference idref='qname'/>
    </param>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
   </method>
   <method name='scanContent'>
    <param name='content'>
     <reference idref='string'/>
    </param>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
   </method>
   <method name='scanAttContent'>
    <param name='content'>
     <reference idref='string'/>
    </param>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
   </method>
   <method name='skipSpaces'/>
   <method name='skipString'/>
  </class>

  <interface id='entity-handler' name='XMLEntityHandler'>
   <method name='startEntity'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='publicId'>
     <reference idref='java-string'/>
    </param>
    <param name='systemId'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='endEntity'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
  </interface>

 </category>

 <!-- Category: VALIDATING -->
 <category name='Validating' package='&package;.validators'>

  <class id='validator' name='XMLValidator'>
   <implements>
    <reference idref='configurable'/>
   </implements>
   <implements>
    <reference idref='document-source'/>
   </implements>
   <implements>
    <reference idref='document-handler'/>
   </implements>
   <field name='fSymbolTable'>
    <note>This field is initialized on reset.</note>
    <reference idref='symbol-table'/>
   </field>
   <field name='fErrorReporter'>
    <note>This field is initialized on reset.</note>
    <reference idref='error-reporter'/>
   </field>
   <field name='fGrammarPool'>
    <note>This field is initialized on reset.</note>
    <reference idref='grammar-pool'/>
   </field>
   <field name='fNamespaces'>
    <note>This field is initialized on reset.</note>
    <primitive type='boolean'/>
   </field>
   <field name='fValidation'>
    <note>This field is initialized on reset.</note>
    <primitive type='boolean'/>
   </field>
   <field name='fDynamicValidation'>
    <note>This field is initialized on reset.</note>
    <primitive type='boolean'/>
   </field>
   <field name='fDocumentHandler'>
    <reference idref='document-handler'/>
   </field>
   <constructor/>
  </class>

  <class id='grammar-pool' name='GrammarPool'>
   <field name='fGrammars'>
    <collection>
     <collector>
      <reference idref='java-hashtable'/>
     </collector>
     <items>
      <reference idref='grammar'/>
     </items>
    </collection>
   </field>
   <constructor/>
   <method name='putGrammar'>
    <param name='key'>
     <reference idref='java-string'/>
    </param>
    <param name='grammar'>
     <reference idref='grammar'/>
    </param>
   </method>
   <method name='getGrammar'>
    <param name='key'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <reference idref='grammar'/>
    </returns>
   </method>
   <method name='removeGrammar'>
    <param name='key'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <reference idref='grammar'/>
    </returns>
   </method>
  </class>

  <class id='grammar' name='Grammar'>
   <field name='fTargetNamespace'>
    <reference idref='java-string'/>
   </field>
   <constructor/>
   <method name='getTargetNamespace'>
    <returns>
     <reference idref='java-string'/>
    </returns>
   </method>
   <method name='getFirstElementDeclIndex'>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getNextElementDeclIndex'>
    <param name='elementDeclIndex'>
     <primitive type='int'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getElementDeclIndex'>
    <param name='elementDeclName'>
     <reference idref='java-string'/>
    </param>
    <param name='scope'>
     <primitive type='int'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getElementDecl'>
    <param name='elementDeclIndex'>
     <primitive type='int'/>
    </param>
    <param name='elementDecl'>
     <note>The values of this structure are set by this call.</note>
     <reference idref='element-decl'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
   <method name='getFirstAttributeDeclIndex'>
    <param name='elementDeclIndex'>
     <primitive type='int'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getNextAttributeDeclIndex'>
    <param name='attributeDeclIndex'>
     <primitive type='int'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getAttributeDeclIndex'>
    <param name='elementDeclIndex'>
     <primitive type='int'/>
    </param>
    <param name='attributeDeclName'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getAttributeDecl'>
    <param name='attributeDeclIndex'>
     <primitive type='int'/>
    </param>
    <param name='attributeDecl'>
     <note>The values of this structure are set by this call.</note>
     <reference idref='attribute-decl'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
   <method name='getFirstEntityDeclIndex'>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getNextEntityDeclIndex'>
    <param name='entityDeclIndex'>
     <primitive type='int'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getEntityDeclIndex'>
    <param name='entityDeclName'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getEntityDecl'>
    <param name='entityDeclIndex'>
     <primitive type='int'/>
    </param>
    <param name='entityDecl'>
     <reference idref='entity-decl'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
   <method name='getFirstNotationDeclIndex'>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getNextNotationDeclIndex'>
    <param name='notationDeclIndex'>
     <primitive type='int'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getNotationDeclIndex'>
    <param name='notationDeclName'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='getNotationDecl'>
    <param name='notationDeclIndex'>
     <primitive type='int'/>
    </param>
    <param name='notationDecl'>
     <reference idref='notation-decl'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
  </class>

  <class id='element-decl' name='XMLElementDecl'>
   <constant name='TYPE_ANY'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_EMPTY'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_MIXED'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_CHILDREN'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_SIMPLE'>
    <primitive type='short'/>
   </constant>
   <field name='name' visibility='public'>
    <reference idref='qname'/>
   </field>
   <field name='scope' visibility='public'>
    <primitive type='int'/>
   </field>
   <field name='type' visibility='public'>
    <primitive type='short'/>
   </field>
   <field name='contentModelValidator' visibility='public'>
    <reference idref='content-model'/>
   </field>
   <field name='simpleType' visibility='public'>
    <reference idref='simple-type'/>
   </field>
   <method name='setValues'>
    <param name='name'>
     <reference idref='qname'/>
    </param>
    <param name='scope'>
     <primitive type='int'/>
    </param>
    <param name='type'>
     <primitive type='short'/>
    </param>
    <param name='contentModelValidator'>
     <reference idref='content-model'/>
    </param>
    <param name='simpleType'>
     <reference idref='simple-type'/>
    </param>
   </method>
   <method name='clear'/>
  </class>

  <class id='attribute-decl' name='XMLAttributeDecl'>
   <field name='name' visibility='public'>
    <reference idref='qname'/>
   </field>
   <field name='simpleType' visibility='public'>
    <reference idref='simple-type'/>
   </field>
   <field name='optional' visibility='public'>
    <primitive type='boolean'/>
   </field>
   <method name='setValues'>
    <param name='name'>
     <reference idref='qname'/>
    </param>
    <param name='simpleType'>
     <reference idref='simple-type'/>
    </param>
    <param name='optional'>
     <primitive type='boolean'/>
    </param>
   </method>
   <method name='clear'/>
  </class>

  <class id='simple-type' name='XMLSimpleType'>
   <constant name='TYPE_CDATA'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_ENTITY'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_ENUMERATION'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_ID'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_IDREF'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_NMTOKEN'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_NOTATION'>
    <primitive type='short'/>
   </constant>
   <constant name='TYPE_NAMED'>
    <primitive type='short'/>
   </constant>
   <constant name='DEFAULT_TYPE_DEFAULT'>
    <primitive type='short'/>
   </constant>
   <constant name='DEFAULT_TYPE_FIXED'>
    <primitive type='short'/>
   </constant>
   <constant name='DEFAULT_TYPE_IMPLIED'>
    <primitive type='short'/>
   </constant>
   <constant name='DEFAULT_TYPE_REQUIRED'>
    <primitive type='short'/>
   </constant>
   <field name='type'>
    <primitive type='short'/>
   </field>
   <field name='name'>
    <reference idref='java-string'/>
   </field>
   <field name='enumeration' visibility='public'>
    <array>
     <reference idref='java-string'/>
    </array>
   </field>
   <field name='list' visibility='public'>
    <primitive type='boolean'/>
   </field>
   <field name='defaultType' visibility='public'>
    <primitive type='short'/>
   </field>
   <field name='defaultValue' visibility='public'>
    <reference idref='java-string'/>
   </field>
   <field name='datatypeValidator' visibility='public'>
    <reference idref='datatype-validator'/>
   </field>
   <method name='setValues'>
    <param name='type'>
     <primitive type='short'/>
    </param>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='enumeration'>
     <array>
      <reference idref='java-string'/>
     </array>
    </param>
    <param name='list'>
     <primitive type='boolean'/>
    </param>
    <param name='defaultType'>
     <primitive type='short'/>
    </param>
    <param name='defaultValue'>
     <reference idref='java-string'/>
    </param>
    <param name='datatypeValidator'>
     <reference idref='datatype-validator'/>
    </param>
   </method>
   <method name='clear'/>
  </class>

  <class id='entity-decl' name='XMLEntityDecl'>
   <field name='name' visibility='public'>
    <reference idref='java-string'/>
   </field>
   <field name='publicId' visibility='public'>
    <reference idref='java-string'/>
   </field>
   <field name='systemId' visibility='public'>
    <reference idref='java-string'/>
   </field>
   <field name='baseSystemId' visibility='public'>
    <reference idref='java-string'/>
   </field>
   <field name='notation' visibility='public'>
    <reference idref='java-string'/>
   </field>
   <field name='isPE' visibility='public'>
    <primitive type='boolean'/>
   </field>
   <method name='setValues'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='publicId'>
     <reference idref='java-string'/>
    </param>
    <param name='systemId'>
     <reference idref='java-string'/>
    </param>
    <param name='baseSystemId'>
     <reference idref='java-string'/>
    </param>
    <param name='notation'>
     <reference idref='java-string'/>
    </param>
    <param name='isPE'>
     <primitive type='boolean'/>
    </param>
   </method>
   <method name='clear'/>
  </class>

  <class id='notation-decl' name='XMLNotationDecl'>
   <field name='name' visibility='public'>
    <reference idref='java-string'/>
   </field>
   <field name='publicId' visibility='public'>
    <reference idref='java-string'/>
   </field>
   <field name='systemId' visibility='public'>
    <reference idref='java-string'/>
   </field>
   <method name='setValues'>
    <param name='name'>
    <reference idref='java-string'/>
    </param>
    <param name='publicId'>
    <reference idref='java-string'/>
    </param>
    <param name='systemId'>
    <reference idref='java-string'/>
    </param>
   </method>
   <method name='clear'/>
  </class>

  <interface id='datatype-validator-factory' name='DatatypeValidatorFactory'>
   <method name='createDatatypeValidator'>
    <param name='name'>
     <reference idref='java-string'/>
    </param>
    <param name='base'>
     <reference idref='datatype-validator'/>
    </param>
    <param name='facets'>
     <collection>
      <collector>
       <reference idref='java-hashtable'/>
      </collector>
      <items>
       <reference idref='java-string'/>
      </items>
     </collection>
    </param>
    <param name='list'>
     <primitive type='boolean'/>
    </param>
    <returns>
     <reference idref='datatype-validator'/>
    </returns>
    <throws>
     <reference idref='invalid-datatype-facet-exception'/>
    </throws>
    <throws>
     <reference idref='invalid-datatype-value-exception'/>
    </throws>
   </method>
  </interface>

  <interface id='datatype-validator' name='DatatypeValidator'>
   <method name='getFacets'>
    <returns>
     <collection>
      <collector>
       <reference idref='java-hashtable'/>
      </collector>
      <items>
       <reference idref='java-string'/>
      </items>
     </collection>
    </returns>
   </method>
   <method name='validate'>
    <param name='data'>
     <reference idref='java-string'/>
    </param>
    <param name='state'>
     <reference idref='java-object'/>
    </param>
    <throws>
     <reference idref='invalid-datatype-value-exception'/>
    </throws>
   </method>
   <method name='compare'>
    <param name='value1'>
     <reference idref='java-string'/>
    </param>
    <param name='value2'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
    <throws>
     <reference idref='invalid-datatype-value-exception'/>
    </throws>
   </method>
  </interface>

  <class id='invalid-datatype-facet-exception' name='InvalidDatatypeFacetException'>
   <extends>
    <reference idref='sax-exception'/>
   </extends>
   <constructor/>
   <constructor>
    <param name='message'>
     <reference idref='java-string'/>
    </param>
   </constructor>
   <constructor>
    <param name='exception'>
     <reference idref='java-exception'/>
    </param>
   </constructor>
   <constructor>
    <param name='message'>
     <reference idref='java-string'/>
    </param>
    <param name='exception'>
     <reference idref='java-exception'/>
    </param>
   </constructor>
  </class>

  <class id='invalid-datatype-value-exception' name='InvalidDatatypeValueException'>
   <extends>
    <reference idref='sax-exception'/>
   </extends>
   <constructor/>
   <constructor>
    <param name='message'>
     <reference idref='java-string'/>
    </param>
   </constructor>
   <constructor>
    <param name='exception'>
     <reference idref='java-exception'/>
    </param>
   </constructor>
   <constructor>
    <param name='message'>
     <reference idref='java-string'/>
    </param>
    <param name='exception'>
     <reference idref='java-exception'/>
    </param>
   </constructor>
  </class>

  <interface id='content-model' name='ContentModelValidator'>
   <method name='validate'>
    <param name='children'>
     <array>
      <reference idref='qname'/>
     </array>
    </param>
    <param name='offset'>
     <primitive type='int'/>
    </param>
    <param name='length'>
     <primitive type='int'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <!-- REVISIT
   <method name='whatCanGoHere'>
    <param name='insertableElementsInfo'>
     <reference idref='insertable-elements-info'/>
    </param>
   </method>
   -->
  </interface>

  <!-- REVISIT
  <class id='insertable-elements-info' name='InsertableElementsInfo'>
   <field name='canHoldPCData' visibility='public'>
    <primitive type='boolean'/>
   </field>
   <field name='childCount' visibility='public'>
    <primitive type='int'/>
   </field>
   <field name='currentChildren' visibility='public'>
    <array>
     <reference idref='qname'/>
    </array>
   </field>
   <field name='insertAt' visibility='public'>
    <primitive type='int'/>
   </field>
   <field name='isValidEOC' visibility='public'>
    <primitive type='boolean'/>
   </field>
   <field name='possibleChildren' visibility='public'>
    <array>
     <reference idref='qname'/>
    </array>
   </field>
   <field name='results' visibility='public'>
    <array>
     <primitive type='boolean'/>
    </array>
   </field>
   <field name='resultsCount' visibility='public'>
    <primitive type='int'/>
   </field>
   <method name='setValues'>
    <param name='canHoldPCData'>
     <primitive type='boolean'/>
    </param>
    <param name='childCount'>
     <primitive type='int'/>
    </param>
    <param name='currentChildren'>
     <array>
      <reference idref='qname'/>
     </array>
    </param>
    <param name='insertAt'>
     <primitive type='int'/>
    </param>
    <param name='isValidEOC'>
     <primitive type='boolean'/>
    </param>
    <param name='possibleChildren'>
     <array>
      <reference idref='qname'/>
     </array>
    </param>
    <param name='results'>
     <array>
      <primitive type='boolean'/>
     </array>
    </param>
    <param name='resultsCount'>
     <primitive type='int'/>
    </param>
   </method>
   <method name='clear'/>
  </class>
  -->

 </category>

 <!-- Category: VALIDATING: Content Models -->
 <category name='Validating: Content Models' package='&package;.validators.models'>
  
  <class id='simple-content-model' name='SimpleContentModel'>
   <implements>
    <reference idref='content-model'/>
   </implements>
   <constant name='CHOICE'>
    <primitive type='short'/>
   </constant>
   <constant name='SEQUENCE'>
    <primitive type='short'/>
   </constant>
   <field name='fOperator'>
    <primitive type='short'/>
   </field>
   <field name='fFirstChild'>
    <reference idref='qname'/>
   </field>
   <field name='fSecondChild'>
    <reference idref='qname'/>
   </field>
   <constructor>
    <param name='operator'>
     <primitive type='short'/>
    </param>
    <param name='firstChild'>
     <reference idref='qname'/>
    </param>
    <param name='secondChild'>
     <reference idref='qname'/>
    </param>
   </constructor>
  </class>
  
  <class id='mixed-content-model' name='MixedContentModel'>
   <implements>
    <reference idref='content-model'/>
   </implements>
   <field name='fCount'>
    <primitive type='int'/>
   </field>
   <field name='fChildren'>
    <array>
     <reference idref='qname'/>
    </array>
   </field>
   <field name='fOrdered'>
    <primitive type='boolean'/>
   </field>
   <constructor>
    <param name='count'>
     <primitive type='int'/>
    </param>
    <param name='children'>
     <array>
      <reference idref='qname'/>
     </array>
    </param>
    <param name='ordered'>
     <primitive type='boolean'/>
    </param>
   </constructor>
  </class>
  
  <class id='dfa-content-model' name='DFAContentModel'>
   <implements>
    <reference idref='content-model'/>
   </implements>
   <constructor>
    <!-- REVISIT: How do we communicate the model to the DFAContentModel?
    <param name='contentSpecProvider'>
     <reference idref='content-spec-provider'/>
    </param>
    <param name='contentSpecIndex'>
     <primitive type='int'/>
    </param>
    -->
   </constructor>
  </class>
  
 </category>
 
 <!-- Category: VALIDATING: Datatypes -->
 <category name='Validating: Datatypes' package='&package;.validators.datatypes'>

  <class id='datatype-validator-factory-impl' name='DatatypeValidatorFactoryImpl'>
   <implements>
    <reference idref='datatype-validator-factory'/>
   </implements>
   <field name='fBaseTypes'>
    <collection>
     <collector>
      <reference idref='java-hashtable'/>
     </collector>
     <items>
      <reference idref='datatype-validator'/>
     </items>
    </collection>
   </field>
  </class>

  <class id='datatype-validator-abstract' name='AbstractDatatypeValidator'>
   <implements>
    <reference idref='datatype-validator'/>
   </implements>
   <field name='fFacets'>
    <collection>
     <collector>
      <reference idref='java-hashtable'/>
     </collector>
     <items>
      <reference idref='java-string'/>
     </items>
    </collection>
   </field>
   <constructor visibility='protected'>
    <param name='base'>
     <reference idref='datatype-validator'/>
    </param>
    <param name='facets'>
     <collection>
      <collector>
       <reference idref='java-hashtable'/>
      </collector>
      <items>
       <reference idref='java-string'/>
      </items>
     </collection>
    </param>
    <param name='list'>
     <primitive type='boolean'/>
    </param>
    <throws>
     <reference idref='invalid-datatype-facet-exception'/>
    </throws>
   </constructor>
  </class>

  <class id='datatype-validator-string' name='StringDatatypeValidator'>
   <extends>
    <reference idref='datatype-validator-abstract'/>
   </extends>
   <constructor>
    <param name='base'>
     <reference idref='datatype-validator'/>
    </param>
    <param name='facets'>
     <collection>
      <collector>
       <reference idref='java-hashtable'/>
      </collector>
      <items>
       <reference idref='java-string'/>
      </items>
     </collection>
    </param>
    <param name='list'>
     <primitive type='boolean'/>
    </param>
    <throws>
     <reference idref='invalid-datatype-facet-exception'/>
    </throws>
   </constructor>
  </class>

 </category>

 <!-- Category: VALIDATING: Grammars -->
 <category name='Validating: Grammars' package='&package;.validators.grammars'>

  <class id='dtd-grammar' name='DTDGrammar'>
   <extends>
    <reference idref='grammar'/>
   </extends>
   <implements>
    <reference idref='dtd-source'/>
   </implements>
   <implements>
    <reference idref='dtd-handler'/>
   </implements>
   <implements>
    <reference idref='dtd-content-model-source'/>
   </implements>
   <implements>
    <reference idref='dtd-content-model-handler'/>
   </implements>
   <field name='setDTDHandler'>
    <reference idref='dtd-handler'/>
   </field>
   <field name='setDTDContentModelHandler'>
    <reference idref='dtd-content-model-handler'/>
   </field>
   <constructor/>
   <constructor>
    <param name='targetNamespace'>
     <reference idref='java-string'/>
    </param>
   </constructor>
  </class>

  <class id='schema-grammar' name='SchemaGrammar'>
   <extends>
    <reference idref='grammar'/>
   </extends>
   <constructor/>
   <constructor>
    <param name='grammarDocument'>
     <reference idref='dom-document'/>
    </param>
   </constructor>
   <constructor>
    <param name='grammarDocument'>
     <reference idref='dom-document'/>
    </param>
    <param name='grammarPool'>
     <reference idref='grammar-pool'/>
    </param>
   </constructor>
  </class>

 </category>

 <!-- Category: Parsing -->
 <category name='Parsing' package='&package;.parsers'>

  <class id='caching-parser-pool' name='CachingParserPool'>
   <field name='fSymbolTable'>
    <reference idref='symbol-table'/>
   </field>
   <field name='fGrammarPool'>
    <reference idref='grammar-pool'/>
   </field>
   <constructor/>
   <constructor>
    <param name='symbolTable'>
     <reference idref='symbol-table'/>
    </param>
   </constructor>
   <constructor>
    <param name='grammarPool'>
     <reference idref='grammar-pool'/>
    </param>
   </constructor>
   <constructor>
    <param name='symbolTable'>
     <reference idref='symbol-table'/>
    </param>
    <param name='grammarPool'>
     <reference idref='grammar-pool'/>
    </param>
   </constructor>
   <method name='getSymbolTable'>
    <returns>
     <reference idref='symbol-table'/>
    </returns>
   </method>
   <method name='getGrammarPool'>
    <returns>
     <reference idref='grammar-pool'/>
    </returns>
   </method>
   <method name='createDOMParser'>
    <returns>
     <reference idref='domparser'/>
    </returns>
   </method>
   <method name='createSAXParser'>
    <returns>
     <reference idref='saxparser'/>
    </returns>
   </method>
   <method name='createDTDParser'>
    <returns>
     <reference idref='dtdparser'/>
    </returns>
   </method>
   <method name='createSchemaParser'>
    <returns>
     <reference idref='schemaparser'/>
    </returns>
   </method>
  </class>         
         
  <class id='parser' name='XMLParser'>
   <implements>
    <reference idref='configuration-manager'/>
   </implements>
   <field name='fSymbolTable'>
    <reference idref='symbol-table'/>
   </field>
   <field name='fEntityManager'>
    <reference idref='entity-manager'/>
   </field>
   <field name='fErrorReporter'>
    <reference idref='error-reporter'/>
   </field>
   <field name='fNamespaces'>
    <primitive type='boolean'/>
   </field>
   <field name='fValidation'>
    <primitive type='boolean'/>
   </field>
   <field name='fDynamicValidation'>
    <primitive type='boolean'/>
   </field>
   <field name='fContinueAfterFatalError'>
    <primitive type='boolean'/>
   </field>
   <constructor/>
   <constructor visibility='protected'>
    <param name='symbolTable'>
     <reference idref='symbol-table'/>
    </param>
   </constructor>
   <method name='setFeature'>
    <param name='featureId'>
     <reference idref='java-string'/>
    </param>
    <param name='state'>
     <primitive type='boolean'/>
    </param>
    <throws>
     <reference idref='sax-not-recognized-exception'/>
    </throws>
    <throws>
     <reference idref='sax-not-supported-exception'/>
    </throws>
   </method>
   <method name='getFeature'>
    <param name='featureId'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
    <throws>
     <reference idref='sax-not-recognized-exception'/>
    </throws>
    <throws>
     <reference idref='sax-not-supported-exception'/>
    </throws>
   </method>
   <method name='setProperty'>
    <param name='propertyId'>
     <reference idref='java-string'/>
    </param>
    <param name='value'>
     <reference idref='java-object'/>
    </param>
    <throws>
     <reference idref='sax-not-recognized-exception'/>
    </throws>
    <throws>
     <reference idref='sax-not-supported-exception'/>
    </throws>
   </method>
   <method name='getProperty'>
    <param name='propertyId'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <reference idref='java-object'/>
    </returns>
    <throws>
     <reference idref='sax-not-recognized-exception'/>
    </throws>
    <throws>
     <reference idref='sax-not-supported-exception'/>
    </throws>
   </method>
   <method name='setEntityResolver'>
    <param name='entityResolver'>
     <reference idref='sax-entity-resolver'/>
    </param>
   </method>
   <method name='setErrorHandler'>
    <param name='errorHandler'>
     <reference idref='sax-error-handler'/>
    </param>
   </method>
   <method name='parse'>
    <param name='systemId'>
     <reference idref='java-string'/>
    </param>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
   <method name='parse'>
    <param name='inputSource'>
     <reference idref='sax-input-source'/>
    </param>
    <throws>
     <reference idref='java-io-exception'/>
    </throws>
    <throws>
     <reference idref='sax-exception'/>
    </throws>
   </method>
  </class>

  <class id='document-parser' name='XMLDocumentParser'>
   <extends>
    <reference idref='parser'/>
   </extends>
   <implements>
    <reference idref='document-handler'/>
   </implements>
   <field name='fScanner'>
    <reference idref='document-scanner'/>
   </field>
   <field name='fDTDScanner'>
    <reference idref='dtd-scanner'/>
   </field>
   <field name='fValidator'>
    <reference idref='validator'/>
   </field>
   <field name='fGrammarPool'>
    <reference idref='grammar-pool'/>
   </field>
   <field name='fDatatypeValidatorFactory'>
    <reference idref='datatype-validator-factory'/>
   </field>
   <constructor/>
   <constructor visibility='protected'>
    <param name='symbolTable'>
     <reference idref='symbol-table'/>
    </param>
    <param name='grammarPool'>
     <reference idref='grammar-pool'/>
    </param>
   </constructor>
  </class>

  <class id='domparser' name='DOMParser'>
   <extends>
    <reference idref='document-parser'/>
   </extends>
   <constructor/>
   <constructor visibility='protected'>
    <param name='symbolTable'>
     <reference idref='symbol-table'/>
    </param>
    <param name='grammarPool'>
     <reference idref='grammar-pool'/>
    </param>
   </constructor>
   <method name='getDocument'>
    <returns>
     <reference idref='dom-document'/>
    </returns>
   </method>
  </class>

  <class id='saxparser' name='SAXParser'>
   <extends>
    <reference idref='document-parser'/>
   </extends>
   <implements>
    <reference idref='dtd-handler'/>
   </implements>
   <implements>
    <reference idref='sax-parser'/>
   </implements>
   <implements>
    <reference idref='sax-xmlreader'/>
   </implements>
   <constructor/>
   <constructor visibility='protected'>
    <param name='symbolTable'>
     <reference idref='symbol-table'/>
    </param>
    <param name='grammarPool'>
     <reference idref='grammar-pool'/>
    </param>
   </constructor>
  </class>

  <class id='grammar-parser' name='XMLGrammarParser'>
   <extends>
    <reference idref='parser'/>
   </extends>
   <implements>
    <reference idref='configuration-manager'/>
   </implements>
   <field name='fDatatypeValidatorFactory'>
    <reference idref='datatype-validator-factory'/>
   </field>
   <constructor visibility='protected'>
    <param name='symbolTable'>
     <reference idref='symbol-table'/>
    </param>
   </constructor>
  </class>           
           
  <class id='dtdparser' name='DTDParser'>
   <extends>
    <reference idref='grammar-parser'/>
   </extends>
   <implements>
    <reference idref='dtd-handler'/>
   </implements>
   <implements>
    <reference idref='dtd-content-model-handler'/>
   </implements>
   <field name='fDTDScanner'>
    <reference idref='dtd-scanner'/>
   </field>
   <constructor>
    <param name='symbolTable'>
     <reference idref='symbol-table'/>
    </param>
   </constructor>
   <method name='getDTDGrammar'>
    <returns>
     <reference idref='dtd-grammar'/>
    </returns>
   </method>
  </class>

  <class id='schemaparser' name='SchemaParser'>
   <extends>
    <reference idref='grammar-parser'/>
   </extends>
   <field name='fDOMParser'>
    <reference idref='domparser'/>
   </field>
   <field name='fGrammarPool'>
    <reference idref='grammar-pool'/>
   </field>
   <constructor>
    <param name='symbolTable'>
     <reference idref='symbol-table'/>
    </param>
    <param name='grammarPool'>
     <reference idref='grammar-pool'/>
    </param>
   </constructor>
   <method name='getSchemaGrammar'>
    <returns>
     <reference idref='schema-grammar'/>
    </returns>
   </method>
  </class>

 </category>

 <!-- Category: UTILS -->
 <category name='Utils' package='&package;.utils'>

  <class id='char' name='XMLChar'>
   <constant name='CHARS'>
    <array>
     <primitive type='byte'/>
    </array>
   </constant>
   <constant name='MASK_VALID'>
    <primitive type='byte'/>
   </constant>
   <constant name='MASK_LETTER'>
    <primitive type='byte'/>
   </constant>
   <constant name='MASK_COMBINING_CHAR'>
    <primitive type='byte'/>
   </constant>
   <constant name='MASK_DIGIT'>
    <primitive type='byte'/>
   </constant>
   <constant name='MASK_EXTENDER'>
    <primitive type='byte'/>
   </constant>
   <constant name='MASK_SPACE'>
    <primitive type='byte'/>
   </constant>
   <constant name='MASK_NAME_START'>
    <primitive type='byte'/>
   </constant>
   <constant name='MASK_NAME'>
    <primitive type='byte'/>
   </constant>
   <method name='isValid'>
    <param name='c'>
     <primitive type='char'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
   <method name='isLetter'>
    <param name='c'>
     <primitive type='char'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
   <method name='isCombiningChar'>
    <param name='c'>
     <primitive type='char'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
   <method name='isDigit'>
    <param name='c'>
     <primitive type='char'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
   <method name='isExtender'>
    <param name='c'>
     <primitive type='char'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
   <method name='isSpace'>
    <param name='c'>
     <primitive type='char'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
   <method name='isNameStart'>
    <param name='c'>
     <primitive type='char'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
   <method name='isName'>
    <param name='c'>
     <primitive type='char'/>
    </param>
    <returns>
     <primitive type='boolean'/>
    </returns>
   </method>
  </class>

  <class id='encoding-map' name='EncodingMap'>
   <field name='fIANA2JavaMap'>
    <collection>
     <collector>
      <reference idref='java-hashtable'/>
     </collector>
     <items>
      <reference idref='java-string'/>
     </items>
    </collection>
   </field>
   <field name='fJava2IANAMap'>
    <collection>
     <collector>
      <reference idref='java-hashtable'/>
     </collector>
     <items>
      <reference idref='java-string'/>
     </items>
    </collection>
   </field>
   <constructor/>
   <method name='putIANA2JavaMapping'>
    <param name='ianaEncoding'>
     <reference idref='java-string'/>
    </param>
    <param name='javaEncoding'>
     <reference idref='java-string'/>
    </param>
   </method>
   <method name='getIANA2JavaMapping'>
    <param name='ianaEncoding'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <reference idref='java-string'/>
    </returns>
   </method>
   <method name='removeIANA2JavaMapping'>
    <param name='ianaEncoding'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <reference idref='java-string'/>
    </returns>
   </method>
   <method name='putJava2IANAMapping'>
    <param name='javaEncoding'>
     <reference idref='java-string'/>
    </param>
    <param name='ianaEncoding'>
     <reference idref='java-string'/>
    </param>
   </method>
   <method name='getJava2IANAMapping'>
    <param name='javaEncoding'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <reference idref='java-string'/>
    </returns>
   </method>
   <method name='removeJava2IANAMapping'>
    <param name='javaEncoding'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <reference idref='java-string'/>
    </returns>
   </method>
  </class>

  <class id='symbol-table' name='SymbolTable'>
   <constructor/>
   <method name='addSymbol'>
    <param name='symbol'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <reference idref='java-string'/>
    </returns>
   </method>
   <method name='addSymbol'>
    <param name='buffer'>
     <array>
      <primitive type='char'/>
     </array>
    </param>
    <param name='offset'>
     <primitive type='int'/>
    </param>
    <param name='length'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <reference idref='java-string'/>
    </returns>
   </method>
   <method name='hash'>
    <param name='symbol'>
     <reference idref='java-string'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
   <method name='hash'>
    <param name='buffer'>
     <array>
      <primitive type='char'/>
     </array>
    </param>
    <param name='offset'>
     <primitive type='int'/>
    </param>
    <param name='length'>
     <primitive type='int'/>
    </param>
    <returns>
     <primitive type='int'/>
    </returns>
   </method>
  </class>

  <class id='qname' name='QName'>
   <field name='prefix' visibility='public'>
    <reference idref='java-string'/>
   </field>
   <field name='localpart' visibility='public'>
    <reference idref='java-string'/>
   </field>
   <field name='rawname' visibility='public'>
    <reference idref='java-string'/>
   </field>
   <field name='uri' visibility='public'>
    <reference idref='java-string'/>
   </field>
   <method name='setValues'>
    <param name='prefix'>
     <reference idref='java-string'/>
    </param>
    <param name='localpart'>
     <reference idref='java-string'/>
    </param>
    <param name='rawname'>
     <reference idref='java-string'/>
    </param>
    <param name='uri'>
     <reference idref='java-string'/>
    </param>
   </method>
   <method name='clear'/>
  </class>

  <interface id='message-formatter' name='MessageFormatter'>
   <method name='formatMessage'>
    <param name='locale'>
     <reference idref='java-locale'/>
    </param>
    <param name='key'>
     <reference idref='java-string'/>
    </param>
    <param name='arguments'>
     <array>
      <reference idref='java-object'/>
     </array>
    </param>
    <returns>
     <reference idref='java-string'/>
    </returns>
    <throws>
     <reference idref='java-missing-resource-exception'/>
    </throws>
   </method>
  </interface>

 </category>

</design>